{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getLogger } from './logger';\nimport { notifyManager } from './notifyManager';\nimport { Retryer } from './retryer';\nimport { noop } from './utils'; // TYPES\n// CLASS\n\nexport var Mutation = /*#__PURE__*/function () {\n  function Mutation(config) {\n    this.options = _extends({}, config.defaultOptions, config.options);\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n    this.meta = config.meta;\n  }\n\n  var _proto = Mutation.prototype;\n\n  _proto.setState = function setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state: state\n    });\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    this.observers = this.observers.filter(function (x) {\n      return x !== observer;\n    });\n  };\n\n  _proto.cancel = function cancel() {\n    if (this.retryer) {\n      this.retryer.cancel();\n      return this.retryer.promise.then(noop).catch(noop);\n    }\n\n    return Promise.resolve();\n  };\n\n  _proto.continue = function _continue() {\n    if (this.retryer) {\n      this.retryer.continue();\n      return this.retryer.promise;\n    }\n\n    return this.execute();\n  };\n\n  _proto.execute = function execute() {\n    var _this = this;\n\n    var data;\n    var restored = this.state.status === 'loading';\n    var promise = Promise.resolve();\n\n    if (!restored) {\n      this.dispatch({\n        type: 'loading',\n        variables: this.options.variables\n      });\n      promise = promise.then(function () {\n        // Notify cache callback\n        _this.mutationCache.config.onMutate == null ? void 0 : _this.mutationCache.config.onMutate(_this.state.variables, _this);\n      }).then(function () {\n        return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);\n      }).then(function (context) {\n        if (context !== _this.state.context) {\n          _this.dispatch({\n            type: 'loading',\n            context: context,\n            variables: _this.state.variables\n          });\n        }\n      });\n    }\n\n    return promise.then(function () {\n      return _this.executeMutation();\n    }).then(function (result) {\n      data = result; // Notify cache callback\n\n      _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);\n    }).then(function () {\n      return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);\n    }).then(function () {\n      return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);\n    }).then(function () {\n      _this.dispatch({\n        type: 'success',\n        data: data\n      });\n\n      return data;\n    }).catch(function (error) {\n      // Notify cache callback\n      _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error, _this.state.variables, _this.state.context, _this); // Log error\n\n      getLogger().error(error);\n      return Promise.resolve().then(function () {\n        return _this.options.onError == null ? void 0 : _this.options.onError(error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(undefined, error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        _this.dispatch({\n          type: 'error',\n          error: error\n        });\n\n        throw error;\n      });\n    });\n  };\n\n  _proto.executeMutation = function executeMutation() {\n    var _this2 = this,\n        _this$options$retry;\n\n    this.retryer = new Retryer({\n      fn: function fn() {\n        if (!_this2.options.mutationFn) {\n          return Promise.reject('No mutationFn found');\n        }\n\n        return _this2.options.mutationFn(_this2.state.variables);\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n      retryDelay: this.options.retryDelay\n    });\n    return this.retryer.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onMutationUpdate(action);\n      });\n\n      _this3.mutationCache.notify(_this3);\n    });\n  };\n\n  return Mutation;\n}();\nexport function getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'failed':\n      return _extends({}, state, {\n        failureCount: state.failureCount + 1\n      });\n\n    case 'pause':\n      return _extends({}, state, {\n        isPaused: true\n      });\n\n    case 'continue':\n      return _extends({}, state, {\n        isPaused: false\n      });\n\n    case 'loading':\n      return _extends({}, state, {\n        context: action.context,\n        data: undefined,\n        error: null,\n        isPaused: false,\n        status: 'loading',\n        variables: action.variables\n      });\n\n    case 'success':\n      return _extends({}, state, {\n        data: action.data,\n        error: null,\n        status: 'success',\n        isPaused: false\n      });\n\n    case 'error':\n      return _extends({}, state, {\n        data: undefined,\n        error: action.error,\n        failureCount: state.failureCount + 1,\n        isPaused: false,\n        status: 'error'\n      });\n\n    case 'setState':\n      return _extends({}, state, action.state);\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["_extends","getLogger","notifyManager","Retryer","noop","Mutation","config","options","defaultOptions","mutationId","mutationCache","observers","state","getDefaultState","meta","_proto","prototype","setState","dispatch","type","addObserver","observer","indexOf","push","removeObserver","filter","x","cancel","retryer","promise","then","catch","Promise","resolve","continue","_continue","execute","_this","data","restored","status","variables","onMutate","context","executeMutation","result","onSuccess","onSettled","error","onError","undefined","_this2","_this$options$retry","fn","mutationFn","reject","onFail","onPause","onContinue","retry","retryDelay","action","_this3","reducer","batch","forEach","onMutationUpdate","notify","failureCount","isPaused"],"sources":["/home/honza/node_modules/react-query/es/core/mutation.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { getLogger } from './logger';\nimport { notifyManager } from './notifyManager';\nimport { Retryer } from './retryer';\nimport { noop } from './utils'; // TYPES\n\n// CLASS\nexport var Mutation = /*#__PURE__*/function () {\n  function Mutation(config) {\n    this.options = _extends({}, config.defaultOptions, config.options);\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n    this.meta = config.meta;\n  }\n\n  var _proto = Mutation.prototype;\n\n  _proto.setState = function setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state: state\n    });\n  };\n\n  _proto.addObserver = function addObserver(observer) {\n    if (this.observers.indexOf(observer) === -1) {\n      this.observers.push(observer);\n    }\n  };\n\n  _proto.removeObserver = function removeObserver(observer) {\n    this.observers = this.observers.filter(function (x) {\n      return x !== observer;\n    });\n  };\n\n  _proto.cancel = function cancel() {\n    if (this.retryer) {\n      this.retryer.cancel();\n      return this.retryer.promise.then(noop).catch(noop);\n    }\n\n    return Promise.resolve();\n  };\n\n  _proto.continue = function _continue() {\n    if (this.retryer) {\n      this.retryer.continue();\n      return this.retryer.promise;\n    }\n\n    return this.execute();\n  };\n\n  _proto.execute = function execute() {\n    var _this = this;\n\n    var data;\n    var restored = this.state.status === 'loading';\n    var promise = Promise.resolve();\n\n    if (!restored) {\n      this.dispatch({\n        type: 'loading',\n        variables: this.options.variables\n      });\n      promise = promise.then(function () {\n        // Notify cache callback\n        _this.mutationCache.config.onMutate == null ? void 0 : _this.mutationCache.config.onMutate(_this.state.variables, _this);\n      }).then(function () {\n        return _this.options.onMutate == null ? void 0 : _this.options.onMutate(_this.state.variables);\n      }).then(function (context) {\n        if (context !== _this.state.context) {\n          _this.dispatch({\n            type: 'loading',\n            context: context,\n            variables: _this.state.variables\n          });\n        }\n      });\n    }\n\n    return promise.then(function () {\n      return _this.executeMutation();\n    }).then(function (result) {\n      data = result; // Notify cache callback\n\n      _this.mutationCache.config.onSuccess == null ? void 0 : _this.mutationCache.config.onSuccess(data, _this.state.variables, _this.state.context, _this);\n    }).then(function () {\n      return _this.options.onSuccess == null ? void 0 : _this.options.onSuccess(data, _this.state.variables, _this.state.context);\n    }).then(function () {\n      return _this.options.onSettled == null ? void 0 : _this.options.onSettled(data, null, _this.state.variables, _this.state.context);\n    }).then(function () {\n      _this.dispatch({\n        type: 'success',\n        data: data\n      });\n\n      return data;\n    }).catch(function (error) {\n      // Notify cache callback\n      _this.mutationCache.config.onError == null ? void 0 : _this.mutationCache.config.onError(error, _this.state.variables, _this.state.context, _this); // Log error\n\n      getLogger().error(error);\n      return Promise.resolve().then(function () {\n        return _this.options.onError == null ? void 0 : _this.options.onError(error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        return _this.options.onSettled == null ? void 0 : _this.options.onSettled(undefined, error, _this.state.variables, _this.state.context);\n      }).then(function () {\n        _this.dispatch({\n          type: 'error',\n          error: error\n        });\n\n        throw error;\n      });\n    });\n  };\n\n  _proto.executeMutation = function executeMutation() {\n    var _this2 = this,\n        _this$options$retry;\n\n    this.retryer = new Retryer({\n      fn: function fn() {\n        if (!_this2.options.mutationFn) {\n          return Promise.reject('No mutationFn found');\n        }\n\n        return _this2.options.mutationFn(_this2.state.variables);\n      },\n      onFail: function onFail() {\n        _this2.dispatch({\n          type: 'failed'\n        });\n      },\n      onPause: function onPause() {\n        _this2.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: function onContinue() {\n        _this2.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n      retryDelay: this.options.retryDelay\n    });\n    return this.retryer.promise;\n  };\n\n  _proto.dispatch = function dispatch(action) {\n    var _this3 = this;\n\n    this.state = reducer(this.state, action);\n    notifyManager.batch(function () {\n      _this3.observers.forEach(function (observer) {\n        observer.onMutationUpdate(action);\n      });\n\n      _this3.mutationCache.notify(_this3);\n    });\n  };\n\n  return Mutation;\n}();\nexport function getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'failed':\n      return _extends({}, state, {\n        failureCount: state.failureCount + 1\n      });\n\n    case 'pause':\n      return _extends({}, state, {\n        isPaused: true\n      });\n\n    case 'continue':\n      return _extends({}, state, {\n        isPaused: false\n      });\n\n    case 'loading':\n      return _extends({}, state, {\n        context: action.context,\n        data: undefined,\n        error: null,\n        isPaused: false,\n        status: 'loading',\n        variables: action.variables\n      });\n\n    case 'success':\n      return _extends({}, state, {\n        data: action.data,\n        error: null,\n        status: 'success',\n        isPaused: false\n      });\n\n    case 'error':\n      return _extends({}, state, {\n        data: undefined,\n        error: action.error,\n        failureCount: state.failureCount + 1,\n        isPaused: false,\n        status: 'error'\n      });\n\n    case 'setState':\n      return _extends({}, state, action.state);\n\n    default:\n      return state;\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}